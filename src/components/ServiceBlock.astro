---
import { Picture } from "@astrojs/image/components";

export interface Props {
  title: string;
  desc: string;
  treatmentList: string[];
  imageUrl: string;
}

const { title, desc, treatmentList, imageUrl } = Astro.props;
---

<div class="container">
  {imageUrl !== "" && <img src={imageUrl} alt="Marisa with Patient" />}
  <details>
    <summary>
      {title}
    </summary>
    <p class="bp">{desc}</p>
    <details class="indented">
      {
        title === "community education classes" ? (
          <summary id="sum2" class="indent">
            Class Topics Include
          </summary>
        ) : (
          <summary id="sum2" class="indent">
            Common Conditions Treated
          </summary>
        )
      }

      <ul class="double-indent">
        {
          treatmentList !== undefined &&
            treatmentList.map((treatment) => {
              return <li>{treatment}</li>;
            })
        }
      </ul>
    </details>
  </details>
</div>
<style>
  .container {
    margin: var(--base-padding);
  }

  .indent {
    margin-left: calc(var(--base-padding));
  }

  .double-indent {
    margin-left: calc(var(--base-padding) * 2);
  }

  #sum2 {
    font-size: 0.9rem;
    font-style: italic;
  }

  img {
    width: 100%;
  }

  details {
    /* width: 50%; */
    margin: 0 auto;
    /* background: #282828; */
    margin-bottom: 0.5rem;

    /* border-radius: 5px; */
    overflow: hidden;
  }

  summary {
    font-family: "Manrope", sans-serif;
    font-weight: 600;

    padding: 1rem;
    display: block;

    /* background: #333; */
    padding-left: 2.2rem;
    position: relative;
    cursor: pointer;
  }

  summary:before {
    content: "";
    border-width: 0.4rem;
    border-style: solid;
    border-color: transparent transparent transparent #afaeb9;

    position: absolute;
    top: 1.3rem;
    left: 1rem;
    transform: rotate(0);
    transform-origin: 0.2rem 50%;
    transition: 0.25s transform ease;
  }

  /* THE MAGIC 🧙‍♀️ */
  details[open] > summary:before {
    transform: rotate(90deg);
  }

  details summary::-webkit-details-marker {
    display: none;
  }

  details > ul {
    padding-bottom: 1rem;
    margin-bottom: 0;
  }
  /* details {
    margin: 1.6rem;
  }

  summary {
    font-weight: 600;
    font-family: "Manrope", sans-serif;
  }

  details summary > * {
    display: inline;
  } */
</style>
